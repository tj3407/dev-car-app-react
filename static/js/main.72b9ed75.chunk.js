(this["webpackJsonpdev-car-app"]=this["webpackJsonpdev-car-app"]||[]).push([[0],{163:function(e,a,t){e.exports=t(309)},168:function(e,a,t){},308:function(e,a,t){},309:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(9),c=t.n(o),l=(t(168),t(19)),i=t(40),u=t(66),s=t(67),m=t(68),d=t(79),p=t(77),h=t(8),b=t(23);var f=function(){return r.a.createElement("div",null)},g=t(145),E=t.n(g),v=(t(306),function(e){Object(d.a)(t,e);var a=Object(p.a)(t);function t(){var e;Object(u.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=a.call.apply(a,[this].concat(o))).wrapper=r.a.createRef(),e}return Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.wrapper.current;this.widget=new E.a({features:{registration:!0},baseUrl:this.props.baseUrl,authParams:{pkce:!0}}),this.widget.renderEl({el:e},this.props.onSuccess,this.props.onError)}},{key:"componentWillUnmount",value:function(){this.widget.remove()}},{key:"render",value:function(){return r.a.createElement("div",{ref:this.wrapper})}}]),t}(n.Component)),k=t(14),w=t(103),x=r.a.createContext(null),O=function(e){var a=r.a.useState({scCode:"",vehicles:[],profile:{},updateContext:function(e,a){o(Object(w.a)(Object(w.a)({},n),{},Object(k.a)({},e,a)))}}),t=Object(l.a)(a,2),n=t[0],o=t[1],c={userData:n,setUserData:o};return r.a.createElement(x.Provider,{value:c},e.children)};var j=Object(b.withOktaAuth)((function(e){var a=e.baseUrl,t=e.authState,n=e.authService,o=r.a.useContext(x),c=o.userData;o.setUserData,console.log(c);var i=r.a.useState(null),u=Object(l.a)(i,2),s=u[0],m=u[1];r.a.useEffect((function(){d()}));var d=function(){var e=t.isAuthenticated;null===s&&m(e)};return null===s?null:s?r.a.createElement(h.c,{to:{pathname:"/dashboard"}}):r.a.createElement("div",{className:"App-login"},r.a.createElement(v,{baseUrl:a,onSuccess:function(e){if(console.log(c),"SUCCESS"===e.status)return c.updateContext("profile",e.user),n.redirect({sessionToken:e.session.token})},onError:function(e){console.log("error logging in",e)}}))})),C=t(364),y=t(361),B=t(350),N=t(365),S=t(366),T=t(353),A=t(368),U=t(354),M=t(355),D=t(146),R=t.n(D),H=t(147),L=t.n(H),P=t(71),F=t.n(P),I=t(72),q=t.n(I),G=t(73),z=t.n(G),W=t(74),_=t.n(W),J=t(75),Y=t.n(J),Q=t(351),$=t(352),K=t(367),V=t(347),X=Object(V.a)((function(e){return{root:{display:"flex"},drawer:Object(k.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),toolbar:e.mixins.toolbar,drawerPaper:{width:240},content:{flexGrow:1,padding:e.spacing(3)},avatar:{margin:"auto"},card:{margin:20},sidebar:{transition:"all .2s ease-in-out","&:hover":{transform:"scale(1.1)"}}}}));var Z=Object(b.withOktaAuth)((function(e){var a=e.container,t=e.mobileOpen,n=e.handleDrawerToggle,o=e.authService,c=X(),l=function(e){"logout"===e.currentTarget.id&&o.logout()},i=r.a.createElement("div",{id:"card-nav"},r.a.createElement("div",{className:c.toolbar}),r.a.createElement(B.a,null),r.a.createElement(Q.a,{variant:"outlined",className:c.card},r.a.createElement($.a,null,r.a.createElement(K.a,{className:c.avatar},"H"),r.a.createElement("br",null),r.a.createElement("small",null,"johndoe@mail.com"))),r.a.createElement(T.a,null,["Battery","Location","Lock/Unlock","Odometer","Tires"].map((function(e,a){return r.a.createElement(A.a,{button:!0,key:e,className:c.sidebar},r.a.createElement(U.a,null,function(e){switch(e){case"Battery":return r.a.createElement(F.a,null);case"Location":return r.a.createElement(q.a,null);case"Lock/Unlock":return r.a.createElement(z.a,null);case"Odometer":return r.a.createElement(_.a,null);case"Tires":return r.a.createElement(Y.a,null)}}(e)),r.a.createElement(M.a,{primary:e}))}))),r.a.createElement(B.a,null),r.a.createElement(T.a,null,["Account","Settings","Logout"].map((function(e,a){return r.a.createElement(A.a,{button:!0,key:e,onClick:l,className:c.sidebar,id:e.toLowerCase()},r.a.createElement(U.a,null,a%2===0?r.a.createElement(R.a,null):r.a.createElement(L.a,null)),r.a.createElement(M.a,{primary:e}))}))));return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{smUp:!0,implementation:"css"},r.a.createElement(N.a,{container:a,variant:"temporary",open:t,onClose:n,classes:{paper:c.drawerPaper},id:"drawer",ModalProps:{keepMounted:!0}},i)),r.a.createElement(S.a,{xsDown:!0,implementation:"css"},r.a.createElement(N.a,{classes:{paper:c.drawerPaper},variant:"permanent",open:!0,id:"drawer"},i)))})),ee=t(356),ae=t(148),te=t.n(ae),ne=t(357),re=t(358),oe=Object(V.a)((function(e){return{menuButton:Object(k.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),appBar:Object(k.a)({},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)"),marginLeft:240})}}));function ce(e){var a=e.handleDrawerToggle,t=oe();return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{position:"fixed",className:t.appBar},r.a.createElement(ne.a,null,r.a.createElement(re.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:a,className:t.menuButton},r.a.createElement(te.a,null)))))}var le=t(80),ie=t(151),ue=t.n(ie),se=t(150),me=t.n(se),de=t(149),pe=t.n(de),he=t(359),be=t(360),fe=Object(V.a)((function(e){return{toolbar:e.mixins.toolbar,content:{flexGrow:1},card:Object(k.a)({margin:e.spacing(6)},e.breakpoints.down("sm"),{margin:e.spacing(2)}),mainHeader:Object(k.a)({padding:e.spacing(6),background:"#fff"},e.breakpoints.down("sm"),{padding:e.spacing(2)}),button:{transition:"all .2s ease-in-out",outline:"none !important",padding:0,"&:hover":{transform:"translateY(-3px)",backgroundColor:"inherit !important"}},icon:{margin:e.spacing(2),width:160,height:45,borderRadius:25},addIcon:{marginRight:e.spacing(1)},headerText:{padding:e.spacing(2)},iconContainer:{width:60,height:60,boxShadow:"0 0.46875rem 2.1875rem rgba(59,62,102,.03), 0 0.9375rem 1.40625rem rgba(59,62,102,.03), 0 0.25rem 0.53125rem rgba(59,62,102,.05), 0 0.125rem 0.1875rem rgba(59,62,102,.03)"}}}));function ge(){var e=r.a.useContext(x),a=e.userData,t=(e.setUserData,fe()),n=r.a.useState("idle"),o=Object(l.a)(n,2),c=o[0],i=o[1];r.a.useEffect((function(){console.log(a),a.scCode&&(i("pending"),fetch("".concat("http://localhost:8000","/api/exchange?code=").concat(a.scCode)).then((function(){return fetch("".concat("http://localhost:8000","/api/vehicle"))})).then((function(e){return e.json()})).then((function(e){a.updateContext("vehicles",e)}))),a.vehicles.length>0&&i("success")}),[a]);var u=new pe.a({clientId:"f8f59ea3-789b-497a-afcb-52dab3592b99",redirectUri:"https://javascript-sdk.smartcar.com/v2/redirect?app_origin=http://localhost:3000",scope:["required:read_vehicle_info"],testMode:!0,onComplete:function(e,t,n){a.updateContext("scCode",t)}});function s(){u.openDialog({forcePrompt:!0})}return r.a.createElement("main",{className:t.content},r.a.createElement("div",{className:t.toolbar}),r.a.createElement(y.a,{container:!0,justify:"flex-start",className:t.mainHeader},r.a.createElement(y.a,{item:!0,xs:12,sm:4,className:t.headerText},r.a.createElement(y.a,{container:!0,justify:"center",alignItems:"center",className:t.iconContainer},r.a.createElement(ue.a,{color:"primary"}))),r.a.createElement(y.a,{item:!0,xs:12,sm:4,className:t.headerText},r.a.createElement(le.a,{variant:"h1"},"Garage"))),r.a.createElement(y.a,{item:!0,xs:12},0===a.vehicles.length?r.a.createElement(Q.a,{variant:"outlined",className:t.card},r.a.createElement($.a,null,r.a.createElement(le.a,{variant:"body1",className:t.headerText},"Your garage is currently empty. Add a car to get started."),r.a.createElement(he.a,{variant:"contained",id:"add-car-button",size:"large",disableElevation:!0,className:t.icon,onClick:s},"pending"===c?r.a.createElement(be.a,{size:20,color:"inherit"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(me.a,{className:t.addIcon}),"Add Car")))):null))}var Ee=t(362),ve=t(363),ke=Object(V.a)({root:{position:"fixed",bottom:0,width:"100%"}});var we=function(){var e=ke(),a=r.a.useState("recents"),t=Object(l.a)(a,2),n=t[0],o=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{smUp:!0,implementation:"css"},r.a.createElement(Ee.a,{value:n,onChange:function(e,a){o(a)},className:e.root},r.a.createElement(ve.a,{label:"Battery",value:"battery",icon:r.a.createElement(F.a,null)}),r.a.createElement(ve.a,{label:"Location",value:"location",icon:r.a.createElement(q.a,null)}),r.a.createElement(ve.a,{label:"Lock/Unlock",value:"lock-unlock",icon:r.a.createElement(z.a,null)}),r.a.createElement(ve.a,{label:"Odometer",value:"odometer",icon:r.a.createElement(_.a,null)}),r.a.createElement(ve.a,{label:"Tires",value:"tires",icon:r.a.createElement(Y.a,null)}))))},xe=Object(V.a)((function(e){return{root:{display:"flex"},drawer:Object(k.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),toolbar:e.mixins.toolbar,drawerPaper:{width:240},content:{flexGrow:1,padding:e.spacing(3)}}}));var Oe=Object(b.withOktaAuth)((function(){var e=xe(),a=r.a.useState(!1),t=Object(l.a)(a,2),n=t[0],o=t[1],c=function(){o(!n)};return r.a.createElement("div",{className:e.root},r.a.createElement(C.a,null),r.a.createElement("nav",{className:e.drawer,"aria-label":"profile sidebar"},r.a.createElement(Z,{mobileOpen:n,handleDrawerToggle:c})),r.a.createElement(y.a,{container:!0,direction:"column"},r.a.createElement(ce,{mobileOpen:n,handleDrawerToggle:c}),r.a.createElement(ge,null),r.a.createElement(we,null)))})),je=Object(h.o)(function(e){Object(d.a)(t,e);var a=Object(p.a)(t);function t(e){var n;return Object(u.a)(this,t),(n=a.call(this,e)).onAuthRequired=n.onAuthRequired.bind(Object(m.a)(n)),n}return Object(s.a)(t,[{key:"onAuthRequired",value:function(){this.props.history.push("/login")}},{key:"render",value:function(){return r.a.createElement(b.Security,{issuer:"https://dev-180584.okta.com/oauth2/default",clientId:"0oajcll70QeukeMFF4x6",redirectUri:window.location.origin+"/implicit/callback",onAuthRequired:this.onAuthRequired,pkce:!0},r.a.createElement("div",{className:"App"},r.a.createElement(f,null),r.a.createElement(b.SecureRoute,{path:"/",exact:!0,component:Oe}),r.a.createElement(b.SecureRoute,{path:"/dashboard",exact:!0,component:Oe}),r.a.createElement(h.d,{path:"/login",exact:!0,render:function(){return r.a.createElement(j,{baseUrl:"https://dev-180584.okta.com"})}}),r.a.createElement(h.d,{path:"/implicit/callback",component:b.LoginCallback})))}}]),t}(n.Component)),Ce=t(76),ye=t(152);function Be(){var e=Object(ye.a)(["\n  body {\n    background-color: ",";\n    color: ",";\n    font-family: Tahoma, Helvetica, Arial, Roboto, sans-serif;\n    transition: all 0.20s linear;\n  }\n  header.MuiAppBar-colorPrimary {\n    background-color: ",";\n    color: ",";\n  }\n  .MuiDrawer-paper {\n    color: ",";\n    background: ",";\n  }\n  .MuiBottomNavigation-root {\n    color: ",";\n    background: ",";\n  }\n  .MuiBottomNavigationAction-root {\n    color: ",";\n  }\n  .MuiListItemIcon-root {\n    color: ",";\n  }\n  .MuiCardContent-root {\n    background-color: ",";\n  }\n  #add-car-button {\n    color: ",";\n    background: ",";\n  }\n  #add-car-button:hover {\n    background: ",";\n  }\n  #card-nav {\n    .MuiPaper-root {\n      background: ",";\n      color: ",";\n    }\n  }\n  main {\n    background: ",";\n    .MuiPaper-root {\n      color: ","\n    }\n  }\n  .MuiDivider-root {\n    background: ",";\n  }\n  .MuiTypography-h1 {\n    font-size: 1.5rem !important;\n    font-weight: 700 !important;\n    color: ",";\n  }\n"]);return Be=function(){return e},e}var Ne=Object(Ce.b)(Be(),(function(e){return e.theme.body}),(function(e){return e.theme.text}),(function(e){return e.theme.appBarBackground}),(function(e){return e.theme.cardText}),(function(e){return e.theme.text}),(function(e){return e.theme.background}),(function(e){return e.theme.text}),(function(e){return e.theme.background}),(function(e){return e.theme.icon}),(function(e){return e.theme.icon}),(function(e){return e.theme.cardHeader}),(function(e){return e.theme.addCarButtonText}),(function(e){return e.theme.addCarButtonBackground}),(function(e){return e.theme.addCarButtonHover}),(function(e){return e.theme.background}),(function(e){return e.theme.cardHeaderText}),(function(e){return e.theme.mainContentBackground}),(function(e){return e.theme.cardText}),(function(e){return e.theme.hr}),(function(e){return e.theme.h1})),Se={text:"#363537 !important",toggleBorder:"#FFF !important",background:"#363537 !important",border:"1px solid black",borderRadius:"50%"},Te={addCarButtonText:"#fff",addCarButtonBackground:"#1bc943",addCarButtonHover:"#14a636",appBarBackground:"#fff",background:"#253053 !important",body:"rgba(60,68,177,.15) !important",border:"1px solid white",borderRadius:"50%",cardHeader:"hsla(0,0%,100%,.03)",cardHeaderText:"#fff",cardText:"#7a7b97 !important",h1:"#000000",hr:"hsla(0,0%,100%,.65) !important",icon:"hsla(0,0%,100%,.65) !important",mainContentBackground:"hsla(0,0%,100%,.03) !important",text:"hsla(0,0%,100%,.65) !important",toggleBorder:"#6B8096 !important"};t(308);var Ae=function(){var e=r.a.useState("dark"),a=Object(l.a)(e,2),t=a[0];return a[1],r.a.createElement(Ce.a,{theme:"light"===t?Se:Te},r.a.createElement(Ne,null),r.a.createElement(O,null,r.a.createElement(i.HashRouter,{basename:"/"},r.a.createElement(je,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[163,1,2]]]);
//# sourceMappingURL=main.72b9ed75.chunk.js.map